<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Enhanced Forensic Image Scanner Dashboard</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/styles.css') }}"
    />
  </head>
  <body>
    <div class="matrix-bg" id="matrixBg"></div>

    <div class="container">
      <header class="header">
        <h1>IMG🛡️4N6</h1>
        <h2>ENHANCED FORENSIC IMAGE SCANNER</h2>
        <p>
          🤖 AI Detection • 🔍 Advanced Steganography • 🌐 Modern Threat
          Intelligence
        </p>
        <div class="feature-badges">
          <span class="badge ai-badge">🧠 92% AI Accuracy</span>
          <span class="badge threat-badge">🛡️ Modern Threats</span>
          <span class="badge forensic-badge">🔬 Forensic Grade</span>
        </div>
      </header>

      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-value" id="totalScans">0</div>
          <div class="stat-label">Total Scans</div>
        </div>
        <div class="stat-card ai-stat">
          <div class="stat-value" id="aiDetected">0</div>
          <div class="stat-label">AI Images Found</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="threatsFound">0</div>
          <div class="stat-label">Threats Found</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="modernThreats">0</div>
          <div class="stat-label">Modern Threats</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="cleanFiles">0</div>
          <div class="stat-label">Clean Files</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="detectionRate">0%</div>
          <div class="stat-label">Detection Rate</div>
        </div>
      </div>

      <div class="main-content">
        <div class="panel">
          <h3>📁 Advanced Scanning</h3>

          <div class="analysis-options">
            <div class="option-card selected" data-level="quick">
              <div style="font-weight: bold; color: #00ff88">⚡ Quick</div>
              <div style="font-size: 0.9rem; margin-top: 5px">
                AI + YARA + Modern Threats
              </div>
            </div>
            <div class="option-card" data-level="deep">
              <div style="font-weight: bold; color: #ffaa00">🔍 Deep</div>
              <div style="font-size: 0.9rem; margin-top: 5px">
                + Statistical + Pixel Analysis
              </div>
            </div>
            <div class="option-card" data-level="ultra">
              <div style="font-weight: bold; color: #ff4444">🚀 Ultra</div>
              <div style="font-size: 0.9rem; margin-top: 5px">
                + Advanced Steganalysis
              </div>
            </div>
          </div>

          <div class="feature-highlights">
            <div class="feature-item">
              <span class="feature-icon">🤖</span>
              <div class="feature-text">
                <strong>AI Content Detection</strong>
                <div>Detects Stable Diffusion, FLUX, VAE models</div>
              </div>
            </div>
            <div class="feature-item">
              <span class="feature-icon">🌐</span>
              <div class="feature-text">
                <strong>Modern Threats</strong>
                <div>Crypto, Cloud Storage, NFT, API Tokens</div>
              </div>
            </div>
            <div class="feature-item">
              <span class="feature-icon">🔗</span>
              <div class="feature-text">
                <strong>File Structure</strong>
                <div>Polyglot detection, trailer analysis</div>
              </div>
            </div>
            <div class="feature-item">
              <span class="feature-icon">⏰</span>
              <div class="feature-text">
                <strong>Timestamp Forensics</strong>
                <div>Device-aware manipulation detection</div>
              </div>
            </div>
          </div>

          <div class="vt-config">
            <label
              style="
                display: block;
                margin-bottom: 5px;
                color: #ccc;
                font-size: 0.9rem;
              "
            >
              🌐 VirusTotal API Key (Optional):
            </label>
            <input
              type="password"
              id="vtApiKey"
              placeholder="Enter your VirusTotal API key for enhanced detection"
            />
          </div>

          <div class="scan-area" id="scanArea">
            <div style="font-size: 3rem; margin-bottom: 15px">📁</div>
            <div style="font-size: 1.2rem; margin-bottom: 10px">
              Enter folder path to scan
            </div>
            <div style="color: #888; font-size: 0.9rem; margin-bottom: 15px">
              Advanced AI detection & forensic analysis in original location
            </div>
            <!-- This will be replaced by JavaScript -->
          </div>

          <div class="upload-options">
            <!-- This will be replaced by JavaScript -->
          </div>

          <div class="progress-bar" id="progressBar" style="display: none">
            <div class="progress-fill" id="progressFill"></div>
          </div>

          <div class="loading" id="loading" style="display: none">
            <div class="spinner"></div>
            <div id="loadingText">Analyzing images with AI detection...</div>
          </div>

          <button class="scan-button" id="scanButton" disabled>
            🔍 Start Enhanced Analysis
          </button>
        </div>

        <div class="panel">
          <h3>📊 Analysis Results</h3>
          <div class="results-header">
            <div
              class="detection-summary"
              id="detectionSummary"
              style="display: none"
            >
              <div class="summary-item">
                <span class="summary-icon">🤖</span>
                <span class="summary-text"
                  >AI Images: <span id="aiSummary">0</span></span
                >
              </div>
              <div class="summary-item">
                <span class="summary-icon">🛡️</span>
                <span class="summary-text"
                  >Threats: <span id="threatSummary">0</span></span
                >
              </div>
              <div class="summary-item">
                <span class="summary-icon">🌐</span>
                <span class="summary-text"
                  >Modern: <span id="modernSummary">0</span></span
                >
              </div>
              <div class="summary-item">
                <span class="summary-icon">✅</span>
                <span class="summary-text"
                  >Clean: <span id="cleanSummary">0</span></span
                >
              </div>
            </div>
          </div>
          <div class="results-area" id="resultsArea">
            <div style="text-align: center; color: #888; margin-top: 50px">
              <div style="font-size: 2rem; margin-bottom: 10px">🕵️</div>
              <div>Enter folder path to begin enhanced threat analysis</div>
              <div style="font-size: 0.9rem; margin-top: 10px; color: #666">
                New: AI detection • Modern threats • File validation • Timestamp
                forensics
              </div>
            </div>
          </div>
        </div>
      </div>

      <footer class="footer">
        <p>
          🤖 Powered by Advanced AI Detection & ML Algorithms • 🔬
          Forensic-Grade Analysis • 🛡️ Modern Threat Intelligence
        </p>
        <div class="footer-badges">
          <span class="footer-badge">SD/FLUX/VAE Detection</span>
          <span class="footer-badge">Crypto/NFT/Cloud Threats</span>
          <span class="footer-badge">Zero False Positives</span>
        </div>
      </footer>
    </div>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
  </body>
</html>
